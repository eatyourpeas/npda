{% extends 'dashboard/components/bases/base_card.html' %}
{% block card_title %}
  Patient Caracteristics
{% endblock card_title%}
{% block card_body %}

<div class="p-2">
  {% comment %} CARE {% endcomment %}
  <div class="flex flex-col mb-4">
    <h4 class='font-bold'>Care</h4>
    {% for kpi_label,values in charts.pt_characteristics_value_counts.data.care.items %}
      <div class="flex flex-col mt-4">
        <span class="tooltip text-start" data-tip='({{ values.count }} / {{ values.total }})'>
          <p class="rcpch_dark_blue text-sm">{{ kpi_label }}: {{ values.pct }}%</p>
          <div
          class="py-2"
          hx-get="{% url 'get_colored_figures_chart_partial' colored=values.figures_coloured total_figures=5 %}"
          hx-trigger="load" hx-swap="innerHTML"></div>
        </span>
      </div>
    {% endfor %}
  </div>

  {% comment %} DIED / TRANSITIONED {% endcomment %}
  <div class="flex flex-col mb-4">
    <h4 class='font-bold'>Died or transitioned</h4>
    {% for kpi_label,values in charts.pt_characteristics_value_counts.data.died_or_transitioned.items %}
      <span class="tooltip text-start" data-tip='({{ values.count }} / {{ values.total }})'>
        <div class="flex flex-col mt-4">
          <p class="rcpch_dark_blue text-sm">{{ kpi_label }}: {{ values.pct }}%</p>
          <div
          class="py-2"
          hx-get="{% url 'get_colored_figures_chart_partial' colored=values.figures_coloured total_figures=5 %}"
          hx-trigger="load" hx-swap="innerHTML"></div>
        </div>
      </span>
    {% endfor %}
  </div>

  {% comment %} COMORBIDITY / TESTING {% endcomment %}
  <div class="flex flex-col mb-4">
    <h4 class='font-bold'>Comorbidity & Testing</h4>
    {% for kpi_label,values in charts.pt_characteristics_value_counts.data.comorbidity_and_testing.items %}
    <span class="tooltip text-start" data-tip='({{ values.count }} / {{ values.total }})'>
      <div class="flex flex-col mt-4">
        <p class="rcpch_dark_blue text-sm">{{ kpi_label }}: {{ values.pct }}%</p>
        <div
        class="py-2"
        hx-get="{% url 'get_colored_figures_chart_partial' colored=values.figures_coloured total_figures=5 %}"
        hx-trigger="load" hx-swap="innerHTML"></div>
      </div>
      </span>
    {% endfor %}
  </div>
</div>

{% endblock %}






